# C# 네트워크 프로그래밍

- 네트워크의 세부 기능들은 매우 복잡하고 다양함
- 이를 체계적으로 분류한 개념적인 모델을 네트워크 모델이라함
- 대표적인 모델은 두가지가 있음
  - OSI 7 계층 모델
  - TCP/IP 모델

## OSI 7 계층 모델

- 네트워킹의 기능을 7가지로 분류함
- 각 Layer에는 자신의 고유한 기능이 있음

### Layer

- PDU(Process Data Unit): 각 계층에서 전송되는 단위

#### Layer 1 - 물리 계층

- PDU : Bits
- 프로토콜
  - Ethernet
  - RS-232C
  - Modem
- 장비
  - 허브
  - 리피터
- 물리적 매체를 통해 비트 흐름을 전송하기 위해 요구되는 기능들을 조정
- 케이블, 연결 장치 등과 같은 기본적인 물리적 연결기의 전기적 명세를 정하고 네트워크의 두 노드를 물리적으로 연결시켜줌

#### Layer 2 - 데이터 계층

- PDU: Frames
- 프로토콜
  - MAC
  - PPP
  - 무선랜
- 장비
  - 브릿지
  - 스위치
- 오류없이 한 장치에서 다른장치로 FRAME(비트의 모음)을 전달하는 역할
- 스위치같은 경우 MAC 주소를 이용하여 정확한 장치로 정보를 전달

#### Layer 3 - 네트워크 계층

- PDU: Packets
- 프로토콜
  - IP
  - ICMP
  - IGMP
  - RIP
  - IPX
  - DDP
- 장비
  - 라우터
- 다중 네트워크 링크에서 패킷을 발신지로부터 목적지로 전달할 책임을 갖음
- 각 패킷이 시작지점에서 최종목적지까지 성공적으로 전달되도록 함

#### Layer 4 - 전송계층

- PDU: Segments
- 프로토콜
  - TCP
  - UDP
  - ARP
  - RTP
  - SCTP
  - SPX
- 장비
  - 게이트웨이
- 전체메시지를 발신지 대 목적지간 제어와 에러를 관리
- 패킷들의 전송이 유효한지 확인하고 실패한 패킷은 다시 내보내는 등 신뢰성 있는 통신을 보장
- 머리말에는 Segment가 포함됨

#### Layer 5 - 세션 계층

- PDU: Data
- 프로토콜
  - SSH
  - TLS
  - ISO8327
  - Apple talk
  - NetBIOS
- 통신 세션을 구성하는 계층으로 포트연결이라고 할 수 있음
- 통신 장치 간 상호작용을 설정하고 유지하며 동기화함
- 사용자 간의 포트 연결(세션)이 유효한지 확인하고 설정

#### Layer 6 - 표현 계층

- PDU: Data
- 프로토콜
  - JPEG
  - MPEG
  - SMB
  - AFP
- 데이터를 하나의 표현 형태로 변환
- 필요한 번역을 수행하여 두 장치가 일과되게 전송 데이터를 이해 할 수 있도록 함

#### Layer 7 - 응용 계층

- PDU: Data
- 프로토콜
  - HTTP
  - FTP
  - DNS
  - DHCP
  - SMTP
  - NFS
  - RTSP
- 사용자가 네트워크에 접근할 수 있도록 해주는 계층
- 사용자 인터페이스, 전자우편, DB관리 등 서비스를 제공



## TCP/IP 모델

- OSI Layer 모델에 비해 단순한 모델로써 4개의 계층으로 구성되어 있음
- 최근 거의 모든 네트워킹이 IP를 사용하고 있다는 점에 대해 실제 네트워크 구현에 보다 근접한 모델

### Layer

#### Layer 1 - 네트워크 액세스 계층(Network Access Layer | Netwrok Interface Layer)

- OSI 7계층의 물리계층과 데이터 링크 계층에 해당
- 물리적인 주소로 MAC을 사용
- LAN, 패킷망 등에 사용

#### Layer 2 - 인터넷 계층(Internet Layer)

- OSI 7계층의 네트워크 계층에 해당됨
- 통신 노드 간의 IP패킷을 전송하는 기능과 라우팅 기능을 담당
- 프로토콜
  - IP
  - ARP
  - RARP

#### Layer 3 - 전송 계층(Transport Layer)

- OSI 7계층의 전송 계층에 해당
- 통신 노드 간의 연결을 제어하고, 신뢰성 있는 데이터 송수신을 담당
- 프로토콜
  - TCP
  - UDP

#### Layer 4 - 응용 계층(Application Layer)

- OSI 7계층의 세션 계층, 표현 계층, 응용 계층에 해당함
- TCP/UDP 기반의 응용 프로그램을 구현할 때 사용
- 프로토콜
  - FTP
  - HTTP
  - SSH